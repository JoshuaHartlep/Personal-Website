@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light dark;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white dark:bg-gray-900 text-black dark:text-white min-h-screen;
  }
}

@layer components {
  .nav-link {
    @apply text-red-600 dark:text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors duration-200 font-medium;
  }
  
  .page-container {
    @apply max-w-4xl mx-auto px-4 py-12;
  }
  
  .card {
    @apply rounded-lg p-6 border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800;
  }
}

/* Exclude navigation buttons and theme dropdown from scroll animations */
[data-animate*="fade-up"] .navigation-buttons,
.navigation-buttons [data-animate*="fade-up"],
[data-animate*="fade-up"] .theme-dropdown,
.theme-dropdown [data-animate*="fade-up"] {
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
}

/* Theme dropdown specific styles */
.theme-dropdown {
  /* Ensure theme dropdown is always visible and clickable */
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
  pointer-events: auto !important;
  z-index: 200 !important;
}

.theme-dropdown button {
  /* Ensure buttons are clickable */
  pointer-events: auto !important;
  transform: none !important;
}

/* Fade-up animation styles - Reversible */
[data-animate="fade-up"] {
  /* Set up transition immediately for smooth animations */
  transition:
    opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
  /* Prevent layout shifts during animation */
  contain: layout style paint;
  /* Enable hardware acceleration */
  backface-visibility: hidden;
  perspective: 1000px;
  
  /* Start in hidden state by default */
  opacity: 0;
  transform: translateY(32px);
}

/* Visible state - smooth transition to visible */
[data-animate="fade-up"].is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Hidden state - smooth transition back to hidden */
[data-animate="fade-up"].fade-up-init {
  opacity: 0;
  transform: translateY(32px);
}

/* Additional animation variants - Reversible */
[data-animate="fade-up-slow"] {
  transition:
    opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
  contain: layout style paint;
  backface-visibility: hidden;
  perspective: 1000px;
  
  opacity: 0;
  transform: translateY(48px);
}

[data-animate="fade-up-slow"].is-visible {
  opacity: 1;
  transform: translateY(0);
}

[data-animate="fade-up-slow"].fade-up-init {
  opacity: 0;
  transform: translateY(48px);
}

[data-animate="fade-up-subtle"] {
  transition:
    opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
  contain: layout style paint;
  backface-visibility: hidden;
  perspective: 1000px;
  
  opacity: 0;
  transform: translateY(16px);
}

[data-animate="fade-up-subtle"].is-visible {
  opacity: 1;
  transform: translateY(0);
}

[data-animate="fade-up-subtle"].fade-up-init {
  opacity: 0;
  transform: translateY(16px);
}

/* Sticky navigation specific styles */
.sticky-nav-container {
  /* Ensure sticky positioning works correctly */
  position: relative;
  z-index: 100;
}

.sticky-nav-container.fixed {
  /* Fixed positioning when sticky */
  position: fixed;
  top: 1rem;
  left: 0;
  right: 0;
  z-index: 100;
  /* Ensure no transform conflicts */
  transform: none !important;
}

/* Accessibility: Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  [data-animate*="fade-up"] {
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
  
  [data-animate*="fade-up"].is-visible,
  [data-animate*="fade-up"].fade-up-init {
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
} 